{"version":3,"sources":["slgComponents.min.js"],"names":["createEl","tag","prop","n","el","document","createElement","ins","parent","i","arguments","length","appendChild","addAnimation","alpha","trail","lines","name","join","start","z","Math","max","prefix","useCssAnimations","substring","indexOf","toLowerCase","pre","animations","sheet","insertRule","vendor","pp","s","style","undefined","charAt","toUpperCase","slice","prefixes","css","merge","obj","def","pos","o","x","offsetLeft","y","offsetTop","offsetParent","getElementsByTagName","styleSheet","defaults","width","radius","rotate","color","speed","opacity","fps","zIndex","className","top","left","slgSpinner","this","spin","opts","prototype","target","stop","ep","tp","self","position","mid","insertBefore","firstChild","offsetWidth","offsetHeight","setAttribute","f","ostep","astep","anim","timeout","setTimeout","clearTimeout","parentNode","removeChild","fill","shadow","height","background","boxShadow","transformOrigin","transform","borderRadius","seg","hwaccel","animation","val","childNodes","vml","attr","behavior","adj","addRule","grp","coordsize","coordorigin","r","dx","filter","g","rotation","arcsize","margin","c","angular","module","directive","$timeout","restrict","scope","link","element","showing","append","$id","$watch","newVal","oldVal","showSpinner","hideSpinner","removeClass","addClass","getElementById","clientHeight","console","log","controller","$scope","service","show","timeoutDelay","slgPleaseWaitModel","count","safetyTimeout","hidePleaseWait_Internal","slgPleaseWaitTimeout","showPleaseWait_Internal","forceShow","forceHide","hide","display","cancel","spinner","body","corners","direction"],"mappings":"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","file":"slgComponents.min.js","sourcesContent":["//fgnass.github.com/spin.js#v1.2.5\r\n/**\r\n * Copyright (c) 2011 Felix Gnass [fgnass at neteye dot de]\r\n * Licensed under the MIT license\r\n */\r\n\r\nvar prefixes = ['webkit', 'Moz', 'ms', 'O']; /* Vendor prefixes */\r\nvar animations = {}; /* Animation rules keyed by their name */\r\nvar useCssAnimations;\r\n\r\n/**\r\n * Utility function to create elements. If no tag name is given,\r\n * a DIV is created. Optionally properties can be passed.\r\n */\r\nfunction createEl(tag, prop) {\r\n  var el = document.createElement(tag || 'div');\r\n  var n;\r\n\r\n  for(n in prop) {\r\n    el[n] = prop[n];\r\n  }\r\n  return el;\r\n}\r\n\r\n/**\r\n * Appends children and returns the parent.\r\n */\r\nfunction ins(parent /* child1, child2, ...*/) {\r\n  for (var i=1, n=arguments.length; i<n; i++) {\r\n    parent.appendChild(arguments[i]);\r\n  }\r\n  return parent;\r\n}\r\n\r\n/**\r\n * Insert a new stylesheet to hold the @keyframe or VML rules.\r\n */\r\nvar sheet = function() {\r\n  var el = createEl('style');\r\n  ins(document.getElementsByTagName('head')[0], el);\r\n  return el.sheet || el.styleSheet;\r\n}();\r\n\r\n/**\r\n * Creates an opacity keyframe animation rule and returns its name.\r\n * Since most mobile Webkits have timing issues with animation-delay,\r\n * we create separate rules for each line/segment.\r\n */\r\nfunction addAnimation(alpha, trail, i, lines) {\r\n  var name = ['opacity', trail, ~~(alpha*100), i, lines].join('-');\r\n  var start = 0.01 + i/lines*100;\r\n  var z = Math.max(1-(1-alpha)/trail*(100-start) , alpha);\r\n  var prefix = useCssAnimations.substring(0, useCssAnimations.indexOf('Animation')).toLowerCase();\r\n  var pre = prefix && '-'+prefix+'-' || '';\r\n\r\n  if (!animations[name]) {\r\n    sheet.insertRule(\r\n      '@' + pre + 'keyframes ' + name + '{' +\r\n      '0%{opacity:'+z+'}' +\r\n      start + '%{opacity:'+ alpha + '}' +\r\n      (start+0.01) + '%{opacity:1}' +\r\n      (start+trail)%100 + '%{opacity:'+ alpha + '}' +\r\n      '100%{opacity:'+ z + '}' +\r\n      '}', 0);\r\n    animations[name] = 1;\r\n  }\r\n  return name;\r\n}\r\n\r\n/**\r\n * Tries various vendor prefixes and returns the first supported property.\r\n **/\r\nfunction vendor(el, prop) {\r\n  var s = el.style;\r\n  var pp;\r\n  var i;\r\n\r\n  if(s[prop] !== undefined) return prop;\r\n  prop = prop.charAt(0).toUpperCase() + prop.slice(1);\r\n  for(i=0; i<prefixes.length; i++) {\r\n    pp = prefixes[i]+prop;\r\n    if(s[pp] !== undefined) return pp;\r\n  }\r\n}\r\n\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, prop) {\r\n  for (var n in prop) {\r\n    el.style[vendor(el, n)||n] = prop[n];\r\n  }\r\n  return el;\r\n}\r\n\r\n/**\r\n * Fills in default values.\r\n */\r\nfunction merge(obj) {\r\n  for (var i=1; i < arguments.length; i++) {\r\n    var def = arguments[i];\r\n    for (var n in def) {\r\n      if (obj[n] === undefined) obj[n] = def[n];\r\n    }\r\n  }\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Returns the absolute page-offset of the given element.\r\n */\r\nfunction pos(el) {\r\n  var o = {x:el.offsetLeft, y:el.offsetTop};\r\n  while((el = el.offsetParent)) {\r\n    o.x+=el.offsetLeft;\r\n    o.y+=el.offsetTop;\r\n  }\r\n  return o;\r\n}\r\n\r\nvar defaults = {\r\n  lines: 12,            // The number of lines to draw\r\n  length: 7,            // The length of each line\r\n  width: 5,             // The line thickness\r\n  radius: 10,           // The radius of the inner circle\r\n  rotate: 0,            // rotation offset\r\n  color: '#000',        // #rgb or #rrggbb\r\n  speed: 1,             // Rounds per second\r\n  trail: 100,           // Afterglow percentage\r\n  opacity: 1/4,         // Opacity of the lines\r\n  fps: 20,              // Frames per second when using setTimeout()\r\n  zIndex: 2e9,          // Use a high z-index by default\r\n  className: 'slgSpinner', // CSS class to assign to the element\r\n  top: 'auto',          // center vertically\r\n  left: 'auto'          // center horizontally\r\n};\r\n\r\n/** The constructor */\r\nvar slgSpinner = function slgSpinner(o) {\r\n  if (!this.spin) return new slgSpinner(o);\r\n  this.opts = merge(o || {}, slgSpinner.defaults, defaults);\r\n};\r\n\r\nslgSpinner.defaults = {};\r\nmerge(slgSpinner.prototype, {\r\n  spin: function(target) {\r\n    this.stop();\r\n    var self = this;\r\n    var o = self.opts;\r\n    var el = self.el = css(createEl(0, {className: o.className}), {position: 'relative', zIndex: o.zIndex});\r\n    var mid = o.radius+o.length+o.width;\r\n    var ep; // element position\r\n    var tp; // target position\r\n\r\n    if (target) {\r\n      target.insertBefore(el, target.firstChild||null);\r\n      tp = pos(target);\r\n      ep = pos(el);\r\n      css(el, {\r\n        left: (o.left == 'auto' ? tp.x-ep.x + (target.offsetWidth >> 1) : o.left+mid) + 'px',\r\n        top: (o.top == 'auto' ? tp.y-ep.y + (target.offsetHeight >> 1) : o.top+mid)  + 'px'\r\n      });\r\n    }\r\n\r\n    el.setAttribute('aria-role', 'progressbar');\r\n    self.lines(el, self.opts);\r\n\r\n    if (!useCssAnimations) {\r\n      // No CSS animation support, use setTimeout() instead\r\n      var i = 0;\r\n      var fps = o.fps;\r\n      var f = fps/o.speed;\r\n      var ostep = (1-o.opacity)/(f*o.trail / 100);\r\n      var astep = f/o.lines;\r\n\r\n      !function anim() {\r\n        i++;\r\n        for (var s=o.lines; s; s--) {\r\n          var alpha = Math.max(1-(i+s*astep)%f * ostep, o.opacity);\r\n          self.opacity(el, o.lines - s, alpha, o);\r\n        }\r\n        self.timeout = self.el && setTimeout(anim, ~~(1000/fps));\r\n      }();\r\n    }\r\n    return self;\r\n  },\r\n  stop: function() {\r\n    var el = this.el;\r\n    if (el) {\r\n      clearTimeout(this.timeout);\r\n      if (el.parentNode) el.parentNode.removeChild(el);\r\n      this.el = undefined;\r\n    }\r\n    return this;\r\n  },\r\n  lines: function(el, o) {\r\n    var i = 0;\r\n    var seg;\r\n\r\n    function fill(color, shadow) {\r\n      return css(createEl(), {\r\n        position: 'absolute',\r\n        width: (o.length+o.width) + 'px',\r\n        height: o.width + 'px',\r\n        background: color,\r\n        boxShadow: shadow,\r\n        transformOrigin: 'left',\r\n        transform: 'rotate(' + ~~(360/o.lines*i+o.rotate) + 'deg) translate(' + o.radius+'px' +',0)',\r\n        borderRadius: (o.width>>1) + 'px'\r\n      });\r\n    }\r\n    for (; i < o.lines; i++) {\r\n      seg = css(createEl(), {\r\n        position: 'absolute',\r\n        top: 1+~(o.width/2) + 'px',\r\n        transform: o.hwaccel ? 'translate3d(0,0,0)' : '',\r\n        opacity: o.opacity,\r\n        animation: useCssAnimations && addAnimation(o.opacity, o.trail, i, o.lines) + ' ' + 1/o.speed + 's linear infinite'\r\n      });\r\n      if (o.shadow) ins(seg, css(fill('#000', '0 0 4px ' + '#000'), {top: 2+'px'}));\r\n      ins(el, ins(seg, fill(o.color, '0 0 1px rgba(0,0,0,.1)')));\r\n    }\r\n    return el;\r\n  },\r\n  opacity: function(el, i, val) {\r\n    if (i < el.childNodes.length) el.childNodes[i].style.opacity = val;\r\n  }\r\n});\r\n\r\n/////////////////////////////////////////////////////////////////////////\r\n// VML rendering for IE\r\n/////////////////////////////////////////////////////////////////////////\r\n\r\n/**\r\n * Check and init VML support\r\n */\r\n!function() {\r\n\r\n  function vml(tag, attr) {\r\n    return createEl('<' + tag + ' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"spin-vml\">', attr);\r\n  }\r\n\r\n  var s = css(createEl('group'), {behavior: 'url(#default#VML)'});\r\n\r\n  if (!vendor(s, 'transform') && s.adj) {\r\n\r\n    // VML support detected. Insert CSS rule ...\r\n    sheet.addRule('.spin-vml', 'behavior:url(#default#VML)');\r\n\r\n    slgSpinner.prototype.lines = function(el, o) {\r\n      var r = o.length+o.width;\r\n      var s = 2*r;\r\n\r\n      function grp() {\r\n        return css(vml('group', {coordsize: s +' '+s, coordorigin: -r +' '+-r}), {width: s, height: s});\r\n      }\r\n\r\n      var margin = -(o.width+o.length)*2+'px';\r\n      var g = css(grp(), {position: 'absolute', top: margin, left: margin});\r\n\r\n      var i;\r\n\r\n      function seg(i, dx, filter) {\r\n        ins(g,\r\n          ins(css(grp(), {rotation: 360 / o.lines * i + 'deg', left: ~~dx}),\r\n            ins(css(vml('roundrect', {arcsize: 1}), {\r\n                width: r,\r\n                height: o.width,\r\n                left: o.radius,\r\n                top: -o.width>>1,\r\n                filter: filter\r\n              }),\r\n              vml('fill', {color: o.color, opacity: o.opacity}),\r\n              vml('stroke', {opacity: 0}) // transparent stroke to fix color bleeding upon opacity change\r\n            )\r\n          )\r\n        );\r\n      }\r\n\r\n      if (o.shadow) {\r\n        for (i = 1; i <= o.lines; i++) {\r\n          seg(i, -2, 'progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)');\r\n        }\r\n      }\r\n      for (i = 1; i <= o.lines; i++) seg(i);\r\n      return ins(el, g);\r\n    };\r\n    slgSpinner.prototype.opacity = function(el, i, val, o) {\r\n      var c = el.firstChild;\r\n      o = o.shadow && o.lines || 0;\r\n      if (c && i+o < c.childNodes.length) {\r\n        c = c.childNodes[i+o]; c = c && c.firstChild; c = c && c.firstChild;\r\n        if (c) c.opacity = val;\r\n      }\r\n    };\r\n  }\r\n  else {\r\n    useCssAnimations = vendor(s, 'animation');\r\n  }\r\n}();\r\n\r\n\r\n\nangular.module('slgComponents', []);\nangular.module('slgComponents')\r\n.directive('slgButtonSpinner', ['$timeout', function ($timeout) {\r\n    return {\r\n        restrict: 'EA',\r\n        scope: {},\r\n        link: function (scope, element, attr) {\r\n            scope.showing = false;\r\n\r\n            element.append(angular.element(\"<div id='slgButtonSpinner_spinner_\" + scope.$id + \"' class='slgButtonSpinner-Spinner'></div>\"));\r\n\r\n            if (attr[\"slgButtonSpinner\"]) {\r\n                scope.$watch('$parent.' + attr[\"slgButtonSpinner\"], function (newVal, oldVal) {\r\n                    if (oldVal === newVal)\r\n                        return;\r\n\r\n                    if (newVal === true && scope.showing === false) \r\n                        scope.showSpinner();\r\n                    else if (newVal == false && scope.showing === true)\r\n                        scope.hideSpinner();                    \r\n                });\r\n            }\r\n\r\n            scope.showSpinner = function () {\r\n                scope.showing = true;\r\n\r\n                element.removeClass('slgButtonSpinnerCollapse');\r\n                element.addClass('slgButtonSpinnerGrow');\r\n                element.addClass('right');\r\n\r\n                var target = document.getElementById('slgButtonSpinner_spinner_' + scope.$id);\r\n\r\n                var height = target.clientHeight;\r\n                console.log(height);\r\n\r\n                if (height <= 12) {\r\n                    var opts = {\r\n                        radius: 3,\r\n                        length: 3,\r\n                        width: 1,\r\n                        color: \"#fff\"\r\n                    }\r\n                }\r\n                else if (height <= 14) {\r\n                    var opts = {\r\n                        radius: 4,\r\n                        length: 4,\r\n                        width: 2,\r\n                        color: \"#fff\"\r\n                    }\r\n                }\r\n                else {\r\n                    var opts = {\r\n                        radius: 5,\r\n                        length: 5,\r\n                        width: 3,\r\n                        color: \"#fff\"\r\n                    }\r\n                }\r\n                var spinner = new slgSpinner(opts).spin(target);\r\n            }\r\n\r\n            scope.hideSpinner = function () {\r\n                element.removeClass('slgButtonSpinnerGrow');\r\n                element.addClass('slgButtonSpinnerCollapse');\r\n\r\n                scope.showing = false;\r\n            }\r\n        },\r\n        controller: ['$scope', function ($scope) {\r\n\r\n        }]\r\n    }\r\n}]);\nangular.module('slgComponents')\r\n .service(\"slgPleaseWaitSvc\", ['$timeout', function ($timeout) {\r\n \tvar slgPleaseWaitModel = { count: 0, spinner: null, slgPleaseWaitTimeout: null, safetyTimeout: null };\r\n\r\n \tvar el = angular.element(\"<div id='slgPleaseWaitOverlay'><div id='slgPleaseWaitSpinner'></div></div>\");\r\n \tdocument.body.appendChild(el[0]);\r\n\r\n \tvar opts = {\r\n \t\tlines: 13, // The number of lines to draw\r\n \t\tlength: 15, // The length of each line\r\n \t\twidth: 10, // The line thickness\r\n \t\tradius: 20, // The radius of the inner circle\r\n \t\tcorners: 1, // Corner roundness (0..1)\r\n \t\trotate: 0, // The rotation offset\r\n \t\tdirection: 1, // 1: clockwise, -1: counterclockwise\r\n \t\tcolor: '#fff', // #rgb or #rrggbb or array of colors\r\n \t\tspeed: 1, // Rounds per second\r\n \t\ttrail: 60, // Afterglow percentage\r\n \t\tshadow: false, // Whether to render a shadow\r\n \t\thwaccel: false, // Whether to use hardware acceleration\r\n \t\tzIndex: 2e9 // The z-index (defaults to 2000000000)\r\n \t};\r\n\r\n \tslgPleaseWaitModel.spinner = new slgSpinner(opts).spin(document.getElementById('slgPleaseWaitSpinner'));\r\n \tconsole.log('Spinner Activated');\r\n\r\n \tfunction show(timeoutDelay) {\r\n \t\ttimeoutDelay = (timeoutDelay === null || timeoutDelay === undefined) ? 300 : timeoutDelay;\r\n\r\n \t\tif (slgPleaseWaitModel.count === 0) {\r\n \t\t\tslgPleaseWaitModel.safetyTimeout = $timeout(function () { hidePleaseWait_Internal(); }, 10000);\r\n\r\n \t\t\tslgPleaseWaitModel.slgPleaseWaitTimeout = $timeout(function () {\r\n \t\t\t\tshowPleaseWait_Internal();\r\n \t\t\t}, timeoutDelay);\r\n \t\t}\r\n\r\n \t\tslgPleaseWaitModel.count++;\r\n \t}\r\n\r\n \tfunction forceShow() {\r\n \t\tshowPleaseWait_Internal();\r\n \t}\r\n\r\n \tfunction forceHide() {\r\n \t\tslgPleaseWaitModel.count = 0;\r\n\t\thidePleaseWait_Internal();\r\n \t}\r\n\r\n \tfunction hide() {\r\n \t\tif (slgPleaseWaitModel.count === 0)\r\n \t\t\treturn;\r\n\r\n \t\tslgPleaseWaitModel.count--;\r\n\r\n \t\tif (slgPleaseWaitModel.count === 0)\r\n \t\t\thidePleaseWait_Internal();\r\n \t}\r\n\r\n \tfunction showPleaseWait_Internal() {\r\n \t\tvar element = document.getElementById(\"slgPleaseWaitOverlay\");\r\n\r\n \t\telement.style.display = 'inline-block';\r\n \t}\r\n\r\n \tfunction hidePleaseWait_Internal() {\r\n \t\tvar element = document.getElementById(\"slgPleaseWaitOverlay\");\r\n\r\n \t\telement.style.display = \"none\";\r\n \t\t$timeout.cancel(slgPleaseWaitModel.slgPleaseWaitTimeout);\r\n \t\t$timeout.cancel(slgPleaseWaitModel.safetyTimeout);\r\n \t}\r\n\r\n \treturn {\r\n \t\tshow: show,\r\n \t\thide: hide,\r\n \t\tforceShow: forceShow,\r\n \t\tforceHide: forceHide\r\n \t}\r\n }]);\r\n"],"sourceRoot":"/source/"}