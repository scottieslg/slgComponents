function slgGetValueFromNestedObject(e,t){var n=t.split("."),s=e;for(i=0;i<n.length;i++)s=e[n[i]];return s}function slgGuid(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function slgGetStyle(e,t){var n="";return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]),n}function createEl(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function ins(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function addAnimation(e,t,n,i){var s=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,l=Math.max(1-(1-e)/t*(100-o),e),r=useCssAnimations.substring(0,useCssAnimations.indexOf("Animation")).toLowerCase(),a=r&&"-"+r+"-"||"";return animations[s]||(sheet.insertRule("@"+a+"keyframes "+s+"{0%{opacity:"+l+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+l+"}}",0),animations[s]=1),s}function vendor(e,t){var n,i,s=e.style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<prefixes.length;i++)if(n=prefixes[i]+t,void 0!==s[n])return n}function css(e,t){for(var n in t)e.style[vendor(e,n)||n]=t[n];return e}function merge(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)void 0===e[i]&&(e[i]=n[i])}return e}function pos(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}angular.module("slgComponents",[]),console.log("slgComponents v.0.0.13");var prefixes=["webkit","Moz","ms","O"],animations={},useCssAnimations,sheet=function(){var e=createEl("style");return ins(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),defaults={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"slgSpinner",top:"auto",left:"auto"},slgSpinner=function e(t){return this.spin?void(this.opts=merge(t||{},e.defaults,defaults)):new e(t)};slgSpinner.defaults={},merge(slgSpinner.prototype,{spin:function(e){this.stop();var t,n,i=this,s=i.opts,o=i.el=css(createEl(0,{className:s.className}),{position:"relative",zIndex:s.zIndex}),l=s.radius+s.length+s.width;if(e&&(e.insertBefore(o,e.firstChild||null),n=pos(e),t=pos(o),css(o,{left:("auto"==s.left?n.x-t.x+(e.offsetWidth>>1):s.left+l)+"px",top:("auto"==s.top?n.y-t.y+(e.offsetHeight>>1):s.top+l)+"px"})),o.setAttribute("aria-role","progressbar"),i.lines(o,i.opts),!useCssAnimations){var r=0,a=s.fps,d=a/s.speed,c=(1-s.opacity)/(d*s.trail/100),u=d/s.lines;!function e(){r++;for(var t=s.lines;t;t--){var n=Math.max(1-(r+t*u)%d*c,s.opacity);i.opacity(o,s.lines-t,n,s)}i.timeout=i.el&&setTimeout(e,~~(1e3/a))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(e,t){function n(e,n){return css(createEl(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*s+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.width>>1)+"px"})}for(var i,s=0;s<t.lines;s++)i=css(createEl(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:useCssAnimations&&addAnimation(t.opacity,t.trail,s,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&ins(i,css(n("#000","0 0 4px #000"),{top:"2px"})),ins(e,ins(i,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),!function(){function e(e,t){return createEl("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=css(createEl("group"),{behavior:"url(#default#VML)"});!vendor(t,"transform")&&t.adj?(sheet.addRule(".spin-vml","behavior:url(#default#VML)"),slgSpinner.prototype.lines=function(t,n){function i(){return css(e("group",{coordsize:r+" "+r,coordorigin:-l+" "+-l}),{width:r,height:r})}function s(t,s,o){ins(d,ins(css(i(),{rotation:360/n.lines*t+"deg",left:~~s}),ins(css(e("roundrect",{arcsize:1}),{width:l,height:n.width,left:n.radius,top:-n.width>>1,filter:o}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var o,l=n.length+n.width,r=2*l,a=2*-(n.width+n.length)+"px",d=css(i(),{position:"absolute",top:a,left:a});if(n.shadow)for(o=1;o<=n.lines;o++)s(o,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(o=1;o<=n.lines;o++)s(o);return ins(t,d)},slgSpinner.prototype.opacity=function(e,t,n,i){var s=e.firstChild;i=i.shadow&&i.lines||0,s&&t+i<s.childNodes.length&&(s=s.childNodes[t+i],s=s&&s.firstChild,s=s&&s.firstChild,s&&(s.opacity=n))}):useCssAnimations=vendor(t,"animation")}(),angular.module("slgComponents").directive("slgButtonSpinner",["$timeout","$interval","$q",function(e,t,n){return{restrict:"A",scope:{},link:function(i,s,o){function l(){e.cancel(i.okTimeout);var l=document.getElementById("slgButtonSpinner_check_"+i.$id);l.style.display="none";var r=document.getElementById("slgButtonSpinner_error_"+i.$id);if(r.style.display="none",i.$parent[o.slgButtonSpinnerError]&&(i.$parent[o.slgButtonSpinnerError]=null),i.expanded===!0)return n.when();var a=n.defer();return c().then(function(){i.inProcess=!0,i.expanded=!0;var e=4;s[0].className.toLowerCase().indexOf("btn-xs")>=0?e=3.5:s[0].className.toLowerCase().indexOf("btn-sm")>=0?e=4:s[0].className.toLowerCase().indexOf("btn-xl")>=0&&(e=5),i.originalPadding=parseInt(slgGetStyle(s[0],"padding-right").replace("px",""));var n=i.originalPadding,o=40,l=t(function(){o>32?(n-=1,s[0].style.paddingRight=n+"px"):o>24||(o>14?(n+=e,s[0].style.paddingRight=n+"px"):o>10||(o>0?(n-=1,s[0].style.paddingRight=n+"px"):(t.cancel(l),i.inProcess=!1,a.resolve()))),o--},10)}),a.promise}function r(){if(i.expanded===!1)return n.when();var e=n.defer();return c().then(function(){i.inProcess=!0,i.expanded=!1;var n=document.getElementById("slgButtonSpinner_spinner_"+i.$id);n.style.display="none";var o=4;s[0].className.toLowerCase().indexOf("btn-xs")>=0?o=3.5:s[0].className.toLowerCase().indexOf("btn-sm")>=0?o=4:s[0].className.toLowerCase().indexOf("btn-xl")>=0&&(o=5);var l=parseInt(slgGetStyle(s[0],"padding-right").replace("px","")),r=40,a=t(function(){r>32?(l+=1,s[0].style.paddingRight=l+"px"):r>24||(r>14?(l-=o,s[0].style.paddingRight=l+"px"):r>10||(r>0?(l+=1,s[0].style.paddingRight=l+"px"):(t.cancel(a),i.inProcess=!1,e.resolve()))),r--},10)}),e.promise}function a(){var e={color:"#fff",radius:4,length:4,width:2};s[0].className.toLowerCase().indexOf("btn-xs")>=0?(e.radius=3,e.length=3,e.width=1):s[0].className.toLowerCase().indexOf("btn-sm")>=0?(e.radius=3,e.length=4,e.width=2):s[0].className.toLowerCase().indexOf("btn-xl")>=0&&(e.radius=5,e.length=5,e.width=2);var t=document.getElementById("slgButtonSpinner_spinner_"+i.$id);t.style.display="inline-block";new slgSpinner(e).spin(t)}function d(){var e=document.getElementById("slgButtonSpinner_spinner_"+i.$id);e.style.display="none"}function c(){if(i.inProcess===!1)return n.when();var e=n.defer(),s=100,o=t(function(){(i.inProcess===!1||s--<=0)&&(t.cancel(o),s<=0&&console.log("slgButtonSpinner wait failed"),e.resolve())},50);return e.promise}i.expanded=!1,i.inProcess=!1,i.showSuccessIndicator=!0,i.errorFieldName=null,s.append(angular.element("<div id='slgButtonSpinner_spinner_"+i.$id+"' class='slgButtonSpinner_spinner'></div>")),s.append(angular.element("<div id='slgButtonSpinner_check_"+i.$id+"' class='slgButtonSpinner_check'><i class='fa fa-check-circle-o'></i></div>")),s.append(angular.element("<div id='slgButtonSpinner_error_"+i.$id+"' class='slgButtonSpinner_error'><i class='fa fa-times-circle-o'></i></div>")),i.$watch("$parent."+o.slgButtonSpinner,function(t,n){if(n!==t){var o=t?t.toLowerCase():"";switch(o){case"showspinner":s[0].disabled=!0,i.waitToShowSpinner=e(function(){l().then(function(){a()})},100);break;case"hidespinner":s[0].disabled=!1,d(),r();break;case"showok":s[0].disabled=!1,d();var c=document.getElementById("slgButtonSpinner_check_"+i.$id);c.style.display="inline-block",i.okTimeout=e(function(){var e=document.getElementById("slgButtonSpinner_check_"+i.$id);e.style.display="none",r()},3e3);break;case"showerror":d(),s[0].disabled=!1,e.cancel(i.okTimeout);var c=document.getElementById("slgButtonSpinner_check_"+i.$id);c.style.display="none";var u=document.getElementById("slgButtonSpinner_error_"+i.$id);u.style.display="inline-block";break;case"reset":default:d();var c=document.getElementById("slgButtonSpinner_check_"+i.$id);c.style.display="none";var u=document.getElementById("slgButtonSpinner_error_"+i.$id);u.style.display="none",r().then(function(){s[0].disabled=!1})}}}),i.$on("$destroy",function(){e.cancel(i.waitToShowSpinner),e.cancel(i.okTimeout)})}}}]),angular.module("slgComponents").directive("slgAutoComplete",["$timeout","$interval","$compile",function(e,t,n){return{restrict:"A",scope:{ngModel:"=",selectedModel:"=?slgAutoCompleteSelectedModel",getUrl:"@?slgAutoCompleteGetUrl",dataList:"=?slgAutoCompleteDataList",minChars:"=?slgAutoCompleteMinChars",allowFreeFormText:"=?slgAutoCompleteAllowFreeFormText",delay:"=?slgAutoCompleteDelay",width:"@?slgAutoCompleteWidth",height:"@?slgAutoCompleteHeight",listFormatter:"&?slgAutoCompleteListFormatter",textboxFormatter:"&?slgAutoCompleteTextboxFormatter"},require:"ngModel",link:function(i,s,o,l){function r(e){var t=angular.element(e.target);t.attr("id")!==i.textboxId&&(t=angular.element(t[0].parentNode),t.attr("id")!=="slgAutoComplete_"+i.$id&&(i.visible=!1,i.allowFreeFormText===!0||(i.selectedModel?i.ngModel=i.textboxFormatter({item:i.selectedModel}):i.ngModel=null),i.$apply()))}function a(){var e=document.getElementById("slgAutoComplete_"+i.$id),t=e.querySelectorAll("[data-index='"+i.selectedIndex+"']")[0],n=e.scrollTop,s=e.scrollTop+e.clientHeight,o=t.offsetTop,l=o+t.clientHeight;o<n?e.scrollTop=t.offsetTop:l>s&&(e.scrollTop+=t.clientHeight+1)}i.delay=i.delay||300,i.minChars=i.minChars||3,i.height=i.height||"200px",i.allowFreeFormText=i.allowFreeFormText||!1,o.id||s[0].setAttribute("id","slgAutoComplete_textbox_"+i.$id),i.textboxId=s.attr("id");var d=100;i.waitForAutoCompleteToRender=t(function(){var e=document.getElementById("slgAutoComplete_"+i.$id);if(e||d<=0){if(t.cancel(i.waitForAutoCompleteToRender),0===d)return void console.log("Element not found");if(i.height?e.style.maxHeight=i.height:e.style.maxHeight="200px",i.width)e.style.width=i.width,e.style.minWidth=i.width;else{s.prop("offsetWidth");i.resize(),i.resizeEvent=window.addEventListener("resize",i.resize,!1)}}},50),i.resize=function(){if(!i.width){var e=s.prop("offsetWidth");document.getElementById("slgAutoComplete_"+i.$id).style.width=e+"px",document.getElementById("slgAutoComplete_"+i.$id).style.minWidth=e+"px"}},document.addEventListener("click",r,!1);var c="<ul ng-show='visible' id='slgAutoComplete_{{$id}}' class='slgAutoComplete list-group'> \t<li id='slg_{{$index}}' data-index='{{$index}}' ng-repeat='item in visibleListItems' class='list-group-item list-group-item-action' ng-class='{ \"active\" : selectedIndex === $index }' ng-mouseover='onMouseOver($index)' ng-click='onClick($index)' ng-bind-html='item.text | toTrusted'>{{item.text}}</li></ul>",u=n(c)(i);s.after(u),s.bind("keydown",function(t){if(40===t.which){if(!i.visibleListItems||0===i.visibleItems.length||i.visible===!1)return;i.selectedIndex++,i.selectedIndex>=i.visibleListItems.length-1&&(i.selectedIndex=i.visibleListItems.length-1),a(),i.$apply()}else if(38===t.which){if(!i.visibleListItems||0===i.visibleItems.length||i.visible===!1)return;i.selectedIndex--,i.selectedIndex<0&&(i.selectedIndex=0),a(),i.$apply()}else if(9===t.which)i.delayTimeout||i.loadingData===!0?i.selectFirstItemAfterLoad=!0:i.allowFreeFormText===!0&&i.selectedIndex===-1?(i.selectedModel=null,i.visible=!1):i.onClick(i.selectedIndex),i.$apply();else if(13===t.which){if(i.selectedIndex===-1)return;if(i.loadingData===!0)return;i.onClick(i.selectedIndex),i.$apply()}else 8===t.which||46===t.which?(e.cancel(i.delayTimeout),i.delayTimeout=e(function(){i.delayTimeout=null,i.searchText=i.ngModel,i.refreshList()},i.delay)):27===t.which&&(i.selectedIndex>-1?i.selectedIndex=-1:i.visible=!1,i.$apply())}),s.bind("keypress",function(t){13!==t.which&&(e.cancel(i.delayTimeout),i.delayTimeout=e(function(){i.delayTimeout=null,i.searchText=i.ngModel,i.refreshList()},i.delay))}),s.bind("focus",function(e){i.selectFirstItemAfterLoad=!1}),i.$on("$destroy",function(){s.unbind("keypress"),window.removeEventListener("resize",i.resize,!1),document.removeEventListener("click",r,!1)})},controller:["$scope","$interval","$http","$q","$sce",function(e,t,n,i,s){function o(){if(e.searchText.length<e.minChars)return i.when(e.allItems);if(e.dataList)return i.when(e.dataList);if(e.getUrl){var t=i.defer();e.loadingData=!0;var s=e.getUrl;return s+=s.indexOf("?")>0?"&searchText="+e.searchText:"?searchText="+e.searchText,n.get(s).then(function(n){e.loadingData=!1,t.resolve(n.data)},function(e){console.log(e)}),t.promise}}e.loadingData=!1,e.selectedIndex=-1,e.selectFirstItemAfterLoad=!1,e.visible=!1,e.onMouseOver=function(t){e.selectedIndex=t},e.onClick=function(t){return e.visible=!1,t!==-1&&e.visibleItems&&0!==e.visibleItems.length?(void 0!==e.selectedModel&&(e.selectedModel=e.visibleItems[t]),void(e.textboxFormatter&&(e.ngModel=e.textboxFormatter({item:e.visibleItems[t]})))):void(e.selectedModel&&e.textboxFormatter?e.ngModel=e.textboxFormatter({item:e.selectedModel}):e.ngModel=null)},e.$watch("selectedModel",function(){null===e.selectedModel||void 0===e.selectedModel?e.ngModel=null:e.textboxFormatter&&(e.ngModel=e.textboxFormatter({item:e.selectedModel}))}),e.$watch("dataList",function(){e.allItems=e.dataList}),e.refreshList=function(){e.visibleItems=[],e.visibleListItems=[],e.searchText&&""!==e.searchText&&o().then(function(t){e.allItems=t,e.formattedItems=[];var n=[],i=[],s=[],o=[];e.searchText.split(" ");return angular.forEach(e.allItems,function(t){if(e.listFormatter){var l=e.listFormatter({item:t});if(l.toLowerCase().indexOf(e.searchText.toLowerCase())>=0){var r=l.toLowerCase().indexOf(e.searchText.toLowerCase()),a=e.searchText.length,d=l.substring(0,r),c=l.substring(r,r+a),u=l.substring(r+a,l.length),p=d+"<span class='slgAutoCompleteHighlight'>"+c+"</span>"+u;n.push(t),i.push(p)}else{var g=e.searchText.toLowerCase().split(" "),m="",f=[];if(angular.forEach(g,function(e,t){for(var n=l.toLowerCase(),i=0,s=10;n.indexOf(e,i)>=0&&--s>0;)i=n.indexOf(e,i),f.push({index:i,length:e.length}),i++}),f.length>0){f.sort(function(e,t){return e.index===t.index?e.length>t.length?1:e.length<t.length?-1:0:e.index>t.index?1:t.index>e.index?-1:0});var h=[];angular.forEach(f,function(e,t){if(h.push(f[t]),t>0){var n=f[t-1].index,i=f[t-1].length,s=f[t].index,o=f[t].length;n+i>s&&(h.pop(h.length-1),s+o>n+i&&(h[h.length-1].length=s+o-n))}}),f=h,angular.forEach(f,function(e,t){0===t?m=l.substring(0,f[0].index):m+=l.substring(f[t-1].index+f[t-1].length,f[t].index),m+="<span class='slgAutoCompleteHighlight'>",m+=l.substring(e.index,e.index+e.length),m+="</span>"}),m+=l.substring(f[f.length-1].index+f[f.length-1].length,l.length),s.push(t),o.push(m)}}}}),e.visibleItems=e.visibleItems.concat(n),e.visibleItems=e.visibleItems.concat(s),angular.forEach(i,function(t){e.visibleListItems.push({id:slgGuid(),text:t})}),angular.forEach(o,function(t){e.visibleListItems.push({id:slgGuid(),text:t})}),console.log(e.visibleListItems),e.selectFirstItemAfterLoad===!0?(e.selectFirstItemAfterLoad=!1,e.allowFreeFormText===!0&&0===e.visibleItems.length?(e.selectedModel=null,void(e.visible=!1)):(e.selectedIndex=0,void e.onClick(0))):(e.resize(),e.visible=e.visibleItems.length>0,void(e.selectedIndex=e.visibleItems.length>0?0:-1))})}}]}}]).filter("toTrusted",["$sce",function(e){return function(t){return e.trustAsHtml(t)}}]),angular.module("slgComponents").service("slgPleaseWaitSvc",["$timeout",function(e){function t(t){t=null===t||void 0===t?300:t,0===r.count&&(r.safetyTimeout=e(function(){l()},1e4),r.slgPleaseWaitTimeout=e(function(){o()},t)),r.count++}function n(){o()}function i(){r.count=0,l()}function s(){0!==r.count&&(r.count--,0===r.count&&l())}function o(){var e=document.getElementById("slgPleaseWaitOverlay");e.style.display="inline-block"}function l(){var t=document.getElementById("slgPleaseWaitOverlay");t.style.display="none",e.cancel(r.slgPleaseWaitTimeout),e.cancel(r.safetyTimeout)}var r={count:0,spinner:null,slgPleaseWaitTimeout:null,safetyTimeout:null},a=angular.element("<div id='slgPleaseWaitOverlay'><div id='slgPleaseWaitSpinner'></div></div>");document.body.appendChild(a[0]);var d={lines:13,length:15,width:10,radius:20,corners:1,rotate:0,direction:1,color:"#fff",speed:1,trail:60,shadow:!1,hwaccel:!1,zIndex:2e9};return r.spinner=new slgSpinner(d).spin(document.getElementById("slgPleaseWaitSpinner")),{show:t,hide:s,forceShow:n,forceHide:i}}]);
//# sourceMappingURL=slgComponents.min.js.map
