function slgGetStyle(e,n){var t="";return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(e,"").getPropertyValue(n):e.currentStyle&&(n=n.replace(/\-(\w)/g,function(e,n){return n.toUpperCase()}),t=e.currentStyle[n]),t}function createEl(e,n){var t,i=document.createElement(e||"div");for(t in n)i[t]=n[t];return i}function ins(e){for(var n=1,t=arguments.length;n<t;n++)e.appendChild(arguments[n]);return e}function addAnimation(e,n,t,i){var s=["opacity",n,~~(100*e),t,i].join("-"),o=.01+t/i*100,r=Math.max(1-(1-e)/n*(100-o),e),a=useCssAnimations.substring(0,useCssAnimations.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return animations[s]||(sheet.insertRule("@"+l+"keyframes "+s+"{0%{opacity:"+r+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+n)%100+"%{opacity:"+e+"}100%{opacity:"+r+"}}",0),animations[s]=1),s}function vendor(e,n){var t,i,s=e.style;if(void 0!==s[n])return n;for(n=n.charAt(0).toUpperCase()+n.slice(1),i=0;i<prefixes.length;i++)if(t=prefixes[i]+n,void 0!==s[t])return t}function css(e,n){for(var t in n)e.style[vendor(e,t)||t]=n[t];return e}function merge(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)void 0===e[i]&&(e[i]=t[i])}return e}function pos(e){for(var n={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)n.x+=e.offsetLeft,n.y+=e.offsetTop;return n}angular.module("slgComponents",[]);var prefixes=["webkit","Moz","ms","O"],animations={},useCssAnimations,sheet=function(){var e=createEl("style");return ins(document.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),defaults={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"slgSpinner",top:"auto",left:"auto"},slgSpinner=function e(n){return this.spin?void(this.opts=merge(n||{},e.defaults,defaults)):new e(n)};slgSpinner.defaults={},merge(slgSpinner.prototype,{spin:function(e){this.stop();var n,t,i=this,s=i.opts,o=i.el=css(createEl(0,{className:s.className}),{position:"relative",zIndex:s.zIndex}),r=s.radius+s.length+s.width;if(e&&(e.insertBefore(o,e.firstChild||null),t=pos(e),n=pos(o),css(o,{left:("auto"==s.left?t.x-n.x+(e.offsetWidth>>1):s.left+r)+"px",top:("auto"==s.top?t.y-n.y+(e.offsetHeight>>1):s.top+r)+"px"})),o.setAttribute("aria-role","progressbar"),i.lines(o,i.opts),!useCssAnimations){var a=0,l=s.fps,d=l/s.speed,c=(1-s.opacity)/(d*s.trail/100),u=d/s.lines;!function e(){a++;for(var n=s.lines;n;n--){var t=Math.max(1-(a+n*u)%d*c,s.opacity);i.opacity(o,s.lines-n,t,s)}i.timeout=i.el&&setTimeout(e,~~(1e3/l))}()}return i},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(e,n){function t(e,t){return css(createEl(),{position:"absolute",width:n.length+n.width+"px",height:n.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*s+n.rotate)+"deg) translate("+n.radius+"px,0)",borderRadius:(n.width>>1)+"px"})}for(var i,s=0;s<n.lines;s++)i=css(createEl(),{position:"absolute",top:1+~(n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:useCssAnimations&&addAnimation(n.opacity,n.trail,s,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&ins(i,css(t("#000","0 0 4px #000"),{top:"2px"})),ins(e,ins(i,t(n.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,n,t){n<e.childNodes.length&&(e.childNodes[n].style.opacity=t)}}),!function(){function e(e,n){return createEl("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}var n=css(createEl("group"),{behavior:"url(#default#VML)"});!vendor(n,"transform")&&n.adj?(sheet.addRule(".spin-vml","behavior:url(#default#VML)"),slgSpinner.prototype.lines=function(n,t){function i(){return css(e("group",{coordsize:a+" "+a,coordorigin:-r+" "+-r}),{width:a,height:a})}function s(n,s,o){ins(d,ins(css(i(),{rotation:360/t.lines*n+"deg",left:~~s}),ins(css(e("roundrect",{arcsize:1}),{width:r,height:t.width,left:t.radius,top:-t.width>>1,filter:o}),e("fill",{color:t.color,opacity:t.opacity}),e("stroke",{opacity:0}))))}var o,r=t.length+t.width,a=2*r,l=2*-(t.width+t.length)+"px",d=css(i(),{position:"absolute",top:l,left:l});if(t.shadow)for(o=1;o<=t.lines;o++)s(o,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(o=1;o<=t.lines;o++)s(o);return ins(n,d)},slgSpinner.prototype.opacity=function(e,n,t,i){var s=e.firstChild;i=i.shadow&&i.lines||0,s&&n+i<s.childNodes.length&&(s=s.childNodes[n+i],s=s&&s.firstChild,s=s&&s.firstChild,s&&(s.opacity=t))}):useCssAnimations=vendor(n,"animation")}(),angular.module("slgComponents").directive("slgButtonSpinner",["$timeout","$interval","$q",function(e,n,t){return{restrict:"A",scope:{},link:function(i,s,o){function r(){e.cancel(i.okTimeout);var r=document.getElementById("slgButtonSpinner_check_"+i.$id);r.style.display="none";var a=document.getElementById("slgButtonSpinner_error_"+i.$id);if(a.style.display="none",i.$parent[o.slgButtonSpinnerError]&&(i.$parent[o.slgButtonSpinnerError]=null),i.expanded===!0)return t.when();var l=t.defer();return c().then(function(){i.inProcess=!0,i.expanded=!0;var e=4;s[0].className.toLowerCase().indexOf("btn-xs")>=0?e=3.5:s[0].className.toLowerCase().indexOf("btn-sm")>=0?e=4:s[0].className.toLowerCase().indexOf("btn-xl")>=0&&(e=5),i.originalPadding=parseInt(slgGetStyle(s[0],"padding-right").replace("px",""));var t=i.originalPadding,o=40,r=n(function(){o>32?(t-=1,s[0].style.paddingRight=t+"px"):o>24||(o>14?(t+=e,s[0].style.paddingRight=t+"px"):o>10||(o>0?(t-=1,s[0].style.paddingRight=t+"px"):(n.cancel(r),i.inProcess=!1,l.resolve()))),o--},10)}),l.promise}function a(){if(i.expanded===!1)return t.when();var e=t.defer();return c().then(function(){i.inProcess=!0,i.expanded=!1;var t=document.getElementById("slgButtonSpinner_spinner_"+i.$id);t.style.display="none";var o=4;s[0].className.toLowerCase().indexOf("btn-xs")>=0?o=3.5:s[0].className.toLowerCase().indexOf("btn-sm")>=0?o=4:s[0].className.toLowerCase().indexOf("btn-xl")>=0&&(o=5);var r=parseInt(slgGetStyle(s[0],"padding-right").replace("px","")),a=40,l=n(function(){a>32?(r+=1,s[0].style.paddingRight=r+"px"):a>24||(a>14?(r-=o,s[0].style.paddingRight=r+"px"):a>10||(a>0?(r+=1,s[0].style.paddingRight=r+"px"):(n.cancel(l),i.inProcess=!1,e.resolve()))),a--},10)}),e.promise}function l(){var e={color:"#fff",radius:4,length:4,width:2};s[0].className.toLowerCase().indexOf("btn-xs")>=0?(e.radius=3,e.length=3,e.width=1):s[0].className.toLowerCase().indexOf("btn-sm")>=0?(e.radius=3,e.length=4,e.width=2):s[0].className.toLowerCase().indexOf("btn-xl")>=0&&(e.radius=5,e.length=5,e.width=2);var n=document.getElementById("slgButtonSpinner_spinner_"+i.$id);n.style.display="inline-block";new slgSpinner(e).spin(n)}function d(){var e=document.getElementById("slgButtonSpinner_spinner_"+i.$id);e.style.display="none"}function c(){if(i.inProcess===!1)return t.when();var e=t.defer(),s=100,o=n(function(){(i.inProcess===!1||s--<=0)&&(n.cancel(o),s<=0&&console.log("slgButtonSpinner wait failed"),e.resolve())},50);return e.promise}i.expanded=!1,i.inProcess=!1,i.showSuccessIndicator=!0,i.errorFieldName=null,s.append(angular.element("<div id='slgButtonSpinner_spinner_"+i.$id+"' class='slgButtonSpinner_spinner'></div>")),s.append(angular.element("<div id='slgButtonSpinner_check_"+i.$id+"' class='slgButtonSpinner_check'><i class='fa fa-check-circle-o'></i></div>")),s.append(angular.element("<div id='slgButtonSpinner_error_"+i.$id+"' class='slgButtonSpinner_error'><i class='fa fa-times-circle-o'></i></div>")),i.$watch("$parent."+o.slgButtonSpinner,function(n,t){if(console.log(n),t!==n){var o=n?n.toLowerCase():"";switch(o){case"showspinner":s[0].disabled=!0,i.waitToShowSpinner=e(function(){r().then(function(){l()})},100);break;case"hidespinner":s[0].disabled=!1,d(),a();break;case"showok":s[0].disabled=!1,d();var c=document.getElementById("slgButtonSpinner_check_"+i.$id);c.style.display="inline-block",i.okTimeout=e(function(){var e=document.getElementById("slgButtonSpinner_check_"+i.$id);e.style.display="none",a()},3e3);break;case"showerror":d(),s[0].disabled=!1,e.cancel(i.okTimeout);var c=document.getElementById("slgButtonSpinner_check_"+i.$id);c.style.display="none";var u=document.getElementById("slgButtonSpinner_error_"+i.$id);u.style.display="inline-block";break;case"reset":default:d();var c=document.getElementById("slgButtonSpinner_check_"+i.$id);c.style.display="none";var u=document.getElementById("slgButtonSpinner_error_"+i.$id);u.style.display="none",a().then(function(){s[0].disabled=!1})}}})}}}]),angular.module("slgComponents").service("slgPleaseWaitSvc",["$timeout",function(e){function n(n){n=null===n||void 0===n?300:n,0===a.count&&(a.safetyTimeout=e(function(){r()},1e4),a.slgPleaseWaitTimeout=e(function(){o()},n)),a.count++}function t(){o()}function i(){a.count=0,r()}function s(){0!==a.count&&(a.count--,0===a.count&&r())}function o(){var e=document.getElementById("slgPleaseWaitOverlay");e.style.display="inline-block"}function r(){var n=document.getElementById("slgPleaseWaitOverlay");n.style.display="none",e.cancel(a.slgPleaseWaitTimeout),e.cancel(a.safetyTimeout)}var a={count:0,spinner:null,slgPleaseWaitTimeout:null,safetyTimeout:null},l=angular.element("<div id='slgPleaseWaitOverlay'><div id='slgPleaseWaitSpinner'></div></div>");document.body.appendChild(l[0]);var d={lines:13,length:15,width:10,radius:20,corners:1,rotate:0,direction:1,color:"#fff",speed:1,trail:60,shadow:!1,hwaccel:!1,zIndex:2e9};return a.spinner=new slgSpinner(d).spin(document.getElementById("slgPleaseWaitSpinner")),console.log("Spinner Activated"),{show:n,hide:s,forceShow:t,forceHide:i}}]);
//# sourceMappingURL=slgComponents.min.js.map
